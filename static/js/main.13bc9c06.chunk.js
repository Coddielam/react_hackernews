(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{15:function(e,t,a){e.exports=a(39)},20:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),u=(a(20),a(2)),l=a(3),s=a(14),i=a.n(s),m=(a(38),"https://hn.algolia.com/api/v1/search?query="),E=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"STORIES_FETCH_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(u.a)(Object(u.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}},h=function(e){var t=e.searchTerm,a=e.onSearchInput,n=e.onSearchSubmit;return r.a.createElement("form",{onSubmit:n,className:"search-form"},r.a.createElement(p,{id:"search",onInputChange:a,value:t,isFocused:!0},r.a.createElement("strong",null,"Search: ")),r.a.createElement("button",{type:"submit",disabled:!t,className:"button button_large"},"Submit"))},d=function(e){var t=e.list,a=e.onRemoveItem;return t.map((function(e){return r.a.createElement(f,{key:e.objectID,item:e,onRemoveItem:a})}))},f=function(e){var t=e.item,a=e.onRemoveItem;return r.a.createElement("div",{key:t.objectID,className:"item"},r.a.createElement("span",{style:{width:"40%"}},r.a.createElement("a",{href:t.url},t.title)," "),r.a.createElement("span",{style:{width:"30%"}},t.author),r.a.createElement("span",{style:{width:"10%"}},t.num_comments),r.a.createElement("span",{style:{width:"10%"}},t.points),r.a.createElement("span",{style:{width:"10%"}},r.a.createElement("button",{type:"button",onClick:function(){return a(t)},className:"button button_small"},"Dismiss")))},p=function(e){var t=e.id,a=e.value,n=e.onInputChange,c=e.type,o=void 0===c?"text":c,u=e.children,l=e.isFocused,s=r.a.useRef();return r.a.useEffect((function(){l&&s.current&&s.current.focus()}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:t,className:"label"}," ",u," "),r.a.createElement("input",{ref:s,type:o,id:t,onChange:n,value:a,autoFocus:l,className:"input"}),r.a.createElement("p",null,"Searching for ",r.a.createElement("strong",null,a)))},S=function(){var e=function(e,t){var a=r.a.useState(localStorage.getItem(e)||t),n=Object(l.a)(a,2),c=n[0],o=n[1];return r.a.useEffect((function(){return localStorage.setItem(e,c)}),[c,e]),[c,o]}("search","React"),t=Object(l.a)(e,2),a=t[0],n=t[1],c=r.a.useState("".concat(m).concat(a)),o=Object(l.a)(c,2),u=o[0],s=o[1],f=r.a.useReducer(E,{data:[],isLoading:!1,isError:!1}),p=Object(l.a)(f,2),S=p[0],b=p[1],I=r.a.useCallback((function(){b({type:"STORIES_FETCH_INIT"}),i.a.get(u).then((function(e){b({type:"STORIES_FETCH_SUCCESS",payload:e.data.hits})})).catch((function(){return b({type:"STORIES_FETCH_FAILURE"})}))}),[u]);r.a.useEffect((function(){return I()}),[I]);return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"headline-primary"},"My Hacker Stories"),r.a.createElement(h,{searchTerm:a,onSearchInput:function(e){return n(e.target.value)},onSearchSubmit:function(e){s("".concat(m).concat(a)),e.preventDefault()}}),r.a.createElement("hr",null),S.isError&&r.a.createElement("p",null,"Something went wrong ..."),S.isLoading?r.a.createElement("p",null,"Loading..."):r.a.createElement(d,{list:S.data,onRemoveItem:function(e){b({type:"REMOVE_STORY",payload:e})}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.13bc9c06.chunk.js.map